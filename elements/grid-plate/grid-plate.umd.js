!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lit-element/lit-element.js"),require("@lrnwebcomponents/responsive-utility/responsive-utility.js"),require("@lrnwebcomponents/utils/utils.js")):"function"==typeof define&&define.amd?define(["exports","lit-element/lit-element.js","@lrnwebcomponents/responsive-utility/responsive-utility.js","@lrnwebcomponents/utils/utils.js"],t):t((e=e||self).GridPlate={},e.litElement_js,null,e.utils_js)}(this,function(e,t,n,o){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n,o,i,r,l){try{var a=e[r](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(o,i)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(){var e=p(['\n      <div class="row">\n        <div\n          class="column"\n          id="col1"\n          data-label="column 1"\n          .style="','"\n        >\n          <slot name="col-1"></slot>\n        </div>\n        <div\n          class="column"\n          id="col2"\n          data-label="column 2"\n          .style="','"\n        >\n          <slot name="col-2"></slot>\n        </div>\n        <div\n          class="column"\n          id="col3"\n          data-label="column 3"\n          .style="','"\n        >\n          <slot name="col-3"></slot>\n        </div>\n        <div\n          class="column"\n          id="col4"\n          data-label="column 4"\n          .style="','"\n        >\n          <slot name="col-4"></slot>\n        </div>\n        <div\n          class="column"\n          id="col5"\n          data-label="column 5"\n          .style="','"\n        >\n          <slot name="col-5"></slot>\n        </div>\n        <div\n          class="column"\n          id="col6"\n          data-label="column 6"\n          .style="','"\n        >\n          <slot name="col-6"></slot>\n        </div>\n      </div>\n    ']);return m=function(){return e},e}function y(){var e=p(['\n        :host {\n          display: block;\n          --grid-plate-row-margin: 0px;\n          --grid-plate-row-padding: 0px;\n          --grid-plate-item-margin: 15px;\n        }\n        :host .row {\n          width: 100%;\n          overflow-wrap: break-word;\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          align-items: stretch;\n          margin: var(--grid-plate-row-margin);\n          padding: var(--grid-plate-row-padding);\n        }\n        .column.active {\n          outline: 2px solid var(--simple-colors-default-theme-grey-12, #009dc7) !important;\n          outline-offset: -2px;\n        }\n        :host([disable-responsive]) .column {\n          overflow: hidden;\n        }\n        :host .column {\n          width: 100%;\n          flex: 0 0 auto;\n          min-height: 50px;\n        }\n        :host([ready]) .column {\n          transition: var(\n            --grid-plate-col-transition,\n            0.5s width ease-in-out,\n            0.5s padding ease-in-out,\n            0.5s margin ease-in-out\n          );\n        }\n        :host([data-hax-ray]) .column[style="min-height: unset;"] {\n          display: block !important;\n          opacity: 0.4;\n        }\n        /* make sure that animation for nothing to 2 col doesn\'t jar layout */\n        :host([layout="1-1"]) #col1 {\n          width: 50%;\n        }\n        :host([layout="1-1-1"]) #col1 {\n          width: 33.33%;\n        }\n        :host([layout="1-1-1-1"]) #col1 {\n          width: 25%;\n        }\n        :host([layout="1-1-1-1-1"]) #col1 {\n          width: 20%;\n        }\n        :host([layout="1-1-1-1-1-1"]) #col1 {\n          width: 16.66%;\n        }\n        :host .column[style="min-height: unset;"] {\n          display: none;\n          outline: none;\n        }\n        :host([data-hax-ray]) .column[style="min-height: unset;"] {\n          width: 0;\n        }\n\n        :host([data-hax-ray]) .column.has-nodes[style="min-height: unset;"] {\n          width: 100%;\n          transition: none;\n        }\n        :host([data-hax-ray]) .column[style="min-height: unset;"]:hover {\n          opacity: 1;\n        }\n        :host([data-hax-ray])\n          .column[style="min-height: unset;"]:hover::before {\n          content: "Hidden by column layout";\n          position: sticky;\n          display: inline-flex;\n          background-color: black;\n          color: white;\n          padding: 0px 8px;\n          font-size: 12px;\n          line-height: 16px;\n          margin: 12px 13px;\n          float: right;\n          width: 124px;\n        }\n        :host .column ::slotted(*) {\n          margin: var(--grid-plate-item-margin);\n          padding: var(--grid-plate-item-margin);\n          max-width: calc(100% - 60px);\n          max-width: -webkit-fill-available;\n        }\n        :host([ready]) .column ::slotted(*) {\n          transition: var(\n            --grid-plate-col-transition,\n            0.5s color ease-in-out,\n            0.5s background-color ease-in-out\n          );\n        }\n        :host([data-hax-ray]) .column ::slotted(*) {\n          outline: 1px solid var(--simple-colors-default-theme-grey-2, #eeeeee);\n          outline-offset: -2px;\n        }\n        :host([data-hax-ray]) .column ::slotted(*:hover) {\n          outline: 1px solid var(--simple-colors-default-theme-grey-8, #eeeeee);\n        }\n        :host([data-hax-ray]) .column {\n          outline: 1px solid var(--simple-colors-default-theme-grey-2, #eeeeee);\n          outline-offset: -2px;\n        }\n        :host([data-hax-ray]) .column:hover {\n          outline: 1px solid var(--simple-colors-default-theme-grey-8, #eeeeee);\n        }\n        :host([data-hax-ray]) div ::slotted(*.active):before {\n          outline: 1px var(--simple-colors-default-theme-grey-4) solid;\n          background-color: inherit;\n          content: " ";\n          width: 100%;\n          display: block;\n          position: relative;\n          margin: -10px 0 0 0;\n          z-index: 2;\n          height: 10px;\n        }\n        :host([data-hax-ray]) div ::slotted(img.active),\n        :host([data-hax-ray]) div ::slotted(*.active):before {\n          background-color: var(\n            --simple-colors-default-theme-grey-12,\n            #009dc7\n          ) !important;\n          outline: 1px solid var(--simple-colors-default-theme-grey-12, #009dc7);\n        }\n\n        @media screen and (min-color-index: 0) and(-webkit-min-device-pixel-ratio:0) {\n          :host([data-hax-ray]) div ::slotted(*.active) {\n            background-color: var(\n              --simple-colors-default-theme-grey-12,\n              #009dc7\n            ) !important;\n            outline: 1px solid\n              var(--simple-colors-default-theme-grey-12, #009dc7);\n          }\n        }\n      ']);return y=function(){return e},e}var v=function e(){l(this,e),this.resizeTimer=null,this.layouts={1:{columnLayout:"1: full width",xs:["100%"],sm:["100%"],md:["100%"],lg:["100%"],xl:["100%"]},"1-1":{columnLayout:"2: equal width",xs:["100%","100%"],sm:["50%","50%"],md:["50%","50%"],lg:["50%","50%"],xl:["50%","50%"]},"2-1":{columnLayout:"2: wide & narrow",xs:["100%","100%"],sm:["50%","50%"],md:["66.6666667%","33.3333337%"],lg:["66.6666667%","33.3333337%"],xl:["66.6666667%","33.3333337%"]},"1-2":{columnLayout:"2: narrow & wide",xs:["100%","100%"],sm:["50%","50%"],md:["33.3333333%","66.6666667%"],lg:["33.3333333%","66.6666667%"],xl:["33.3333333%","66.6666667%"]},"3-1":{columnLayout:"2: wider & narrower",xs:["100%","100%"],sm:["50%","50%"],md:["75%","25%"],lg:["75%","25%"],xl:["75%","25%"]},"1-3":{columnLayout:"2: narrower & wider",xs:["100%","100%"],sm:["50%","50%"],md:["25%","75%"],lg:["25%","75%"],xl:["25%","75%"]},"1-1-1":{columnLayout:"3: equal width",xs:["100%","100%","100%"],sm:["100%","100%","100%"],md:["33.3333333%","33.3333333%","33.3333333%"],lg:["33.3333333%","33.3333333%","33.3333333%"],xl:["33.3333333%","33.3333333%","33.3333333%"]},"2-1-1":{columnLayout:"3: wide, narrow, and narrow",xs:["100%","100%","100%"],sm:["100%","50%","50%"],md:["50%","25%","25%"],lg:["50%","25%","25%"],xl:["50%","25%","25%"]},"1-2-1":{columnLayout:"3: narrow, wide, and narrow",xs:["100%","100%","100%"],sm:["100%","100%","100%"],md:["25%","50%","25%"],lg:["25%","50%","25%"],xl:["25%","50%","25%"]},"1-1-2":{columnLayout:"3: narrow, narrow, and wide",xs:["100%","100%","100%"],sm:["50%","50%","100%"],md:["25%","25%","50%"],lg:["25%","25%","50%"],xl:["25%","25%","50%"]},"1-1-1-1":{columnLayout:"4: equal width",xs:["100%","100%","100%","100%"],sm:["50%","50%","50%","50%"],md:["25%","25%","25%","25%"],lg:["25%","25%","25%","25%"],xl:["25%","25%","25%","25%"]},"1-1-1-1-1":{columnLayout:"5: equal width",xs:["100%","100%","100%","100%","100%"],sm:["50%","50%","50%","50%","50%"],md:["20%","20%","20%","20%","20%"],lg:["20%","20%","20%","20%","20%"],xl:["20%","20%","20%","20%","20%"]},"1-1-1-1-1-1":{columnLayout:"6: equal width",xs:["100%","100%","100%","100%","100%","100%"],sm:["50%","50%","50%","50%","50%","50%"],md:["33.3333333%","33.3333333%","33.3333333%","33.3333333%","33.3333333%","33.3333333%"],lg:["16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%"],xl:["16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%"]}},this.options={};for(var t=Object.keys(this.layouts),n=1;n<t.length;n++)this.options[t[n]]=this.layouts[t[n]].columnLayout},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,t.LitElement);var n=h(a);function a(){var e;return l(this,a),(e=n.call(this)).ready=!1,e.breakpointSm=900,e.breakpointMd=1200,e.breakpointLg=1500,e.breakpointXl=1800,e.columns=6,e.disableResponsive=!1,e.layout="1-1",e.layouts=(new v).layouts,e.responsiveSize="xs",window.ResponsiveUtility.requestAvailability(),e}return s(a,null,[{key:"styles",get:function(){return[t.css(y())]}}]),s(a,[{key:"render",value:function(){return t.html(m(),this._getColumnWidth(0,this.__columnWidths),this._getColumnWidth(1,this.__columnWidths),this._getColumnWidth(2,this.__columnWidths),this._getColumnWidth(3,this.__columnWidths),this._getColumnWidth(4,this.__columnWidths),this._getColumnWidth(5,this.__columnWidths))}},{key:"validateElementSlot",value:function(e){return["col-1","col-2","col-3","col-4","col-5","col-6"].includes(e.getAttribute("slot"))}},{key:"firstUpdated",value:function(e){var t=this;this.resize(),window.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:this,attribute:"responsive-size",relativeToParent:!1,sm:this.breakpointSm,md:this.breakpointMd,lg:this.breakpointLg,xl:this.breakpointXl}})),this.__columnWidths=this._getColumnWidths(this.responsiveSize,this.layout,this.layouts,this.disableResponsive),setTimeout(function(){t.ready=!0},100)}},{key:"_dragEnter",value:function(e){e.target.classList.add("active")}},{key:"_dragLeave",value:function(e){e.target.classList.remove("active")}},{key:"_dropEvent",value:function(e){this.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),this.shadowRoot.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")})}},{key:"_slotMonitor",value:function(e){var t=o.normalizeEventPath(e);t[0]&&t[0].assignedNodes&&t[0].assignedNodes().length?this.shadowRoot.querySelector("#"+t[0].getAttribute("name").replace("-","")).classList.add("has-nodes"):this.shadowRoot.querySelector("#"+t[0].getAttribute("name").replace("-","")).classList.remove("has-nodes")}},{key:"updated",value:function(e){var t=this;e.forEach(function(e,n){if("dataHaxRay"===n&&t.shadowRoot)if(t[n]){t.addEventListener("drop",t._dropEvent.bind(t));for(var o=1;o<=t.columns;o++)if(void 0!==t.shadowRoot.querySelector("#col"+o)){var i=t.shadowRoot.querySelector("#col"+o);i.addEventListener("dragenter",t._dragEnter.bind(t)),i.addEventListener("dragleave",t._dragLeave.bind(t))}var r=t.shadowRoot.querySelectorAll("slot");for(o=0;o<r.length;o++)r[o].addEventListener("slotchange",t._slotMonitor.bind(t));t.observer=new MutationObserver(function(e){t.__sorting||(e.forEach(function(e){e.addedNodes.forEach(function(e){e.tagName&&e!==t&&e.parentElement&&"HAX-BODY"!==e.parentElement.tagName&&!t.validateElementSlot(e)&&e.setAttribute("slot","col-1")})}),t.__sortChildren())}),t.observer.observe(t,{childList:!0})}else{t.observer&&t.observer.disconnect(),t.removeEventListener("drop",t._dropEvent.bind(t));for(o=1;o<=t.columns;o++)if(void 0!==t.shadowRoot.querySelector("#col"+o)){var l=t.shadowRoot.querySelector("#col"+o);l.removeEventListener("dragenter",t._dragEnter.bind(t)),l.removeEventListener("dragleave",t._dragLeave.bind(t))}var a=t.shadowRoot.querySelectorAll("slot");for(o=0;o<a.length;o++)a[o].removeEventListener("slotchange",t._slotMonitor.bind(t))}switch(["responsiveSize","layout","layouts","disableResponsive"].includes(n)&&(clearTimeout(t.__calcWidthLock),t.__calcWidthLock=setTimeout(function(){t.__columnWidths=t._getColumnWidths(t.responsiveSize,t.layout,t.layouts,t.disableResponsive)},0)),n){case"__columnWidths":t.resize();break;case"disableResponsive":t.dispatchEvent(new CustomEvent("disable-responsive-changed",{detail:t[n]}))}})}},{key:"resize",value:function(){window.dispatchEvent(new Event("resize"))}},{key:"canMoveSlot",value:function(e,t){var n=t?-1:1,o=this.shadowRoot.querySelectorAll(".column").length,i=e.getAttribute("slot").split("-"),r=parseInt(i[1])+n;return r>=1&&r<=o}},{key:"moveSlot",value:function(e,t){var n=t?-1:1,o=e.getAttribute("slot").split("-"),i=parseInt(o[1])+n;e.setAttribute("slot","col-"+i)}},{key:"_getColumnWidths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sm",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1-1",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(n){var r=n[t],l=!1!==o?"xl":e,a={12:"1","8/4":"2-1","6/6":"1-1","4/8":"1-2","4/4/4":"1-1-1","3/3/3/3":"1-1-1-1"}[t];if(void 0!==r&&void 0!==r[l])return n[t][l];if(void 0!==n[a]&&void 0!==n[a][l])return n[a][l];if("undefined"!==i(n["1-1"]))return n["1-1"][l]}}},{key:"_getColumnWidth",value:function(e,t){return void 0!==t&&void 0!==t[e]?"width:"+t[e]:"min-height: unset"}},{key:"_getColumns",value:function(e){return e.length}},{key:"__sortChildren",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.__sorting=!0,e.prev=1,t=(t=Array.prototype.reduce.call(this.querySelectorAll("[slot]"),function(e,t){return e},[])).sort(function(e,t){return parseInt(e.getAttribute("slot").split("-")[1])<parseInt(t.getAttribute("slot").split("-")[1])?-1:1}),e.next=6,t.forEach(function(e){e.parentNode===n&&n.appendChild(e)});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn(e.t0);case 11:this.__sorting=!1;case 12:case"end":return e.stop()}},e,this,[[1,8]])}),function(){var t=this,n=arguments;return new Promise(function(o,i){var l=e.apply(t,n);function a(e){r(l,o,i,a,s,"next",e)}function s(e){r(l,o,i,a,s,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}()}],[{key:"tag",get:function(){return"grid-plate"}},{key:"haxProperties",get:function(){return{type:"grid",canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Grid layout",description:"Simple card in a cool retro design",icon:"hax:3-3-3-3",color:"grey",groups:["Layout"],handles:[],meta:{author:"ELMS:LN",owner:"The Pennsylvania State University"}},settings:{configure:[{property:"layout",title:"Column Layout",description:"Style to present these items (may change for small screens)",inputMethod:"select",options:(new v).options},{property:"disableResponsive",title:"Disable responsive",description:"Check box to force layout to stick regardless of screen breakpoins",inputMethod:"boolean"}],advanced:[{property:"breakpointSm",title:"Small Breakpoint",description:"Anything less than this number (in pixels) will render with the smallest version of this layout",inputMethod:"textfield",validationType:"number"},{property:"breakpointMd",title:"Medium Breakpoint",description:"Anything less than this number (in pixels) will render with the small version of this layout",inputMethod:"textfield",validationType:"number"},{property:"breakpointLg",title:"Large Breakpoint",description:"Anything less than this number (in pixels) will render with the medium version of this layout.",inputMethod:"textfield",validationType:"number"},{property:"breakpointXl",title:"Extra-Large Breakpoint",description:"Anything less than this number (in pixels) will render with the large version of this layout. Anything greater than or equal to this number will display with the maximum number of columns for this layout.",inputMethod:"textfield",validationType:"number"}]},saveOptions:{unsetAttributes:["ready","layouts","columns","options","responsive-width"]}}}},{key:"properties",get:function(){return{ready:{type:Boolean,reflect:!0},breakpointSm:{type:Number,attribute:"breakpoint-sm"},breakpointMd:{type:Number,attribute:"breakpoint-md"},breakpointLg:{type:Number,attribute:"breakpoint-lg"},breakpointXl:{type:Number,attribute:"breakpoint-xl"},columns:{type:Number,reflect:!0},disableResponsive:{type:Boolean,attribute:"disable-responsive"},layout:{type:String,reflect:!0},layouts:{type:Object},responsiveSize:{type:String,reflect:!0,attribute:"responsive-size"},__columnWidths:{type:String},dataHaxRay:{type:String,reflect:!0,attribute:"data-hax-ray"}}}}]),a}();window.customElements.define(f.tag,f),e.GridPlate=f,Object.defineProperty(e,"__esModule",{value:!0})});
