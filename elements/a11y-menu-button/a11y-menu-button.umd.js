!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lit-element/lit-element.js"),require("@lrnwebcomponents/simple-tooltip/simple-tooltip.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js")):"function"==typeof define&&define.amd?define(["exports","lit-element/lit-element.js","@lrnwebcomponents/simple-tooltip/simple-tooltip.js","@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js"],t):t((e=e||self).A11yMenuButton={},e.litElement_js)}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return l(this,n)}}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(){var e=c(["\n        :host([hidden]) {\n          display: none;\n        }\n        button[disabled] {\n          cursor: not-allowed;\n        }\n      "]);return d=function(){return e},e}function f(){var e=c(['\n      <li role="none">\n        <button\n          role="menuitem"\n          controls="','"\n          ?disabled="','"\n        >\n          <slot></slot>\n        </button>\n      </li>\n    ']);return f=function(){return e},e}var p=function(e){r(u,t.LitElement);var o=a(u);function u(){return n(this,u),o.apply(this,arguments)}return i(u,[{key:"render",value:function(){return t.html(f(),this.controls,this.disabled)}}],[{key:"styles",get:function(){return[t.css(d())]}},{key:"tag",get:function(){return"a11y-menu-item"}},{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean},hidden:{attribute:"hidden",type:Boolean,reflect:!0},controls:{attribute:"controls",type:String}}}}]),u}();function y(){var e=c(["\n        :host([hidden]) {\n          display: none;\n        }\n      "]);return y=function(){return e},e}function h(){var e=c(['\n      <li role="none">\n        <a role="menuitem" href="','" ?disabled="','">\n          <slot></slot>\n        </a>\n      </li>\n    ']);return h=function(){return e},e}window.customElements.define(p.tag,p);var b=function(e){r(u,t.LitElement);var o=a(u);function u(){return n(this,u),o.apply(this,arguments)}return i(u,[{key:"render",value:function(){return t.html(h(),this.href,this.disabled)}}],[{key:"styles",get:function(){return[t.css(y())]}},{key:"tag",get:function(){return"a11y-menu-link"}},{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean},hidden:{attribute:"hidden",type:Boolean,reflect:!0},href:{attribute:"href",type:String}}}}]),u}();function m(){var e=c([""]);return m=function(){return e},e}function v(){var e=c(['\n      <button\n        id="menubutton"\n        aria-haspopup="true"\n        aria-controls="menu"\n        aria-expanded="','"\n      >\n        <slot name="button"></slot>\n      </button>\n      <ul\n        id="menu"\n        role="menu"\n        aria-labelledby="menubutton"\n        @mousover="','"\n        @mousout="','"\n      >\n        <slot></slot>\n      </ul>\n    ']);return v=function(){return e},e}window.customElements.define(b.tag,b);var k=function(e){r(o,t.LitElement);a(o);function o(){return n(this,o),(void 0).addEventListener("click",(void 0)._handleClick),(void 0).addEventListener("keydown",(void 0)._handleKeydown),(void 0).addEventListener("focus",(void 0)._handleFocus),(void 0).addEventListener("blur",(void 0)._handleBlur),(void 0).addEventListener("mouseover",(void 0)._handleMouseover),(void 0).addEventListener("mouseout",(void 0)._handleMouseout),l(void 0)}return i(o,[{key:"render",value:function(){var e=this;return t.html(v(),this.expanded,function(t){return e.hover=!0},function(t){return e.hover=!1})}}],[{key:"styles",get:function(){return[t.css(m())]}},{key:"tag",get:function(){return"a11y-menu-button"}},{key:"properties",get:function(){return{activeItem:{type:Object},disabled:{attribute:"disabled",type:Boolean},toggled:{attribute:"toggled",type:Boolean},focus:{attribute:"focus",type:Boolean},hover:{attribute:"hover",type:Boolean}}}}]),i(o,[{key:"focusOn",value:function(e){this.expanded=!0,this.querySelector("a11y-menu-button-item,a11y-menu-button-link").focus()}},{key:"_handleKeydown",value:function(e){var t=!1;switch(e.keyCode){case this.keyCode.SPACE:case this.keyCode.RETURN:case this.keyCode.DOWN:this.focusOn("a11y-menu-button-item,a11y-menu-button-link"),t=!0;break;case this.keyCode.UP:this.popupMenu&&(this.focusOn("a11y-menu-button-item:last-of-type,a11y-menu-button-link:last-of-type"),t=!0)}t&&(e.stopPropagation(),e.preventDefault())}},{key:"_handleClick",value:function(e){this.expanded?this.popupMenu.close(!0):this.focusOn("a11y-menu-button-item,a11y-menu-button-link")}},{key:"_handleFocus",value:function(e){this.hasFocus=!0}},{key:"_handleBlur",value:function(e){this.hasFocus=!1}},{key:"_handleMouseover",value:function(e){this.hasHover=!0,this.expanded=!0}},{key:"_handleMouseout",value:function(e){this.hasHover=!1,setTimeout(this.popupMenu.close.bind(this.popupMenu,!1),300)}},{key:"_onClick",value:function(){this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}},{key:"keyCode",get:function(){return{TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40}}}]),o}();window.customElements.define(k.tag,k),e.A11yMenuButton=k,Object.defineProperty(e,"__esModule",{value:!0})});
