!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("lit-element/lit-element.js"),require("@polymer/polymer/lib/utils/flattened-nodes-observer.js"),require("lit-html/lit-html.js")):"function"==typeof define&&define.amd?define(["lit-element/lit-element.js","@polymer/polymer/lib/utils/flattened-nodes-observer.js","lit-html/lit-html.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).litElement_js,e.flattenedNodesObserver_js,e.litHtml_js)}(this,(function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p,g,h,y,m=function(t){l(a,t);var i=f(a);function a(){var e;return r(this,a),(e=i.call(this)).full=!1,e.loading=!0,e}return o(a,[{key:"render",value:function(){return this.loading?e.html(p||(p=d(['<div class="progress-line"></div>']))):n.nothing}}],[{key:"styles",get:function(){return e.css(g||(g=d(['\n      :host {\n        display: block;\n      }\n      .progress-line,\n      .progress-line:before {\n        height: 5px;\n        width: 100%;\n        margin: auto;\n      }\n      :host([full]) .progress-line {\n        --loading-indicator-width: 100%;\n      }\n      .progress-line {\n        background-color: var(\n          --loading-indicator-background-color,\n          rgba(0, 0, 0, 0.05)\n        );\n        display: -webkit-flex;\n        display: flex;\n        width: var(--loading-indicator-width, 300px);\n      }\n      .progress-line:before {\n        background-color: var(--loading-indicator-color, black);\n        content: "";\n        animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n      }\n      @keyframes running-progress {\n        0% {\n          margin-left: 0px;\n          margin-right: 100%;\n        }\n        50% {\n          margin-left: 25%;\n          margin-right: 0%;\n        }\n        100% {\n          margin-left: 100%;\n          margin-right: 0;\n        }\n      }\n      @keyframes fade-out {\n        0% {\n          opacity: 1;\n        }\n        99% {\n          opacity: 0;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n    '])))}},{key:"properties",get:function(){return{full:{type:Boolean,reflect:!0},loading:{type:Boolean,reflect:!0}}}},{key:"tag",get:function(){return"loading-indicator"}}]),a}(e.LitElement);customElements.define(m.tag,m);var b=function(n){l(s,n);var i=f(s);function s(){var e;return r(this,s),(e=i.call(this)).loading=!0,e.__iframeLoaded=!1,e.__iframeHeight=100,e.__iframe=null,e.__mutationObserver=new MutationObserver((function(t){t.forEach((function(t){t.target.offsetHeight&&e.loading&&(e.__iframeHeight=t.target.offsetHeight)}))})),e}return o(s,[{key:"disconnectedCallback",value:function(){var e=this;u(a(s.prototype),"disconnectedCallback",this).call(this),this.__iframe&&this.__iframe.removeEventListener("load",(function(t){setTimeout((function(){e.loading=!1,t.path[0].height&&(e.__iframeHeight=t.path[0].height)}),500)}))}},{key:"firstUpdated",value:function(e){var n=this;u(a(s.prototype),"firstUpdated",this)&&u(a(s.prototype),"firstUpdated",this).call(this,e),this.__observer=new t.FlattenedNodesObserver(this.shadowRoot.querySelector("slot"),(function(e){e.addedNodes.length>0&&e.addedNodes.forEach((function(e){var t=null;if("IFRAME"===e.nodeName)t=e;else if(e.querySelector){var r=e.querySelector("iframe");r&&(t=r)}t&&(n.__iframe=t,n.__iframe.addEventListener("load",(function(e){setTimeout((function(){n.loading=!1,e.path[0].height&&(n.__iframeHeight=e.path[0].height)}),500)})),n.__mutationObserver.observe(n.__iframe,{attributes:!0}))}))}))}},{key:"render",value:function(){return e.html(h||(h=d(['\n      <div id="container" class="','">\n        <div id="loading-screen" style="height:','px;">\n          <loading-indicator></loading-indicator>\n        </div>\n        <div id="slot" style="display: ','">\n          <slot></slot>\n        </div>\n      </div>\n    '])),this.loading?"loading":"loaded",this.__iframeHeight,this.loading?"none":"block")}}],[{key:"properties",get:function(){return{loading:{type:Boolean},__iframeHeight:{type:Number}}}},{key:"styles",get:function(){return e.css(y||(y=d(["\n      :host {\n        display: block;\n      }\n      #container {\n        position: relative;\n      }\n      #loading-screen {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      .loaded #loading-screen {\n        display: none;\n      }\n    "])))}}]),s}(e.LitElement);customElements.define("iframe-loader",b)}));
